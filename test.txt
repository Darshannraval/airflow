from git import Repo

repo = Repo("/home/vagrant/test/airflow")
o = repo.remotes.origin
branch = repo.active_branch
print ("current brnach is: ", branch)

head = repo.head

if head == head:
  repo.git.checkout("main")
  o.pull()
  repo.git.branch("feat-develop3")
  repo.git.checkout("feat-develop3")
  with open("/home/vagrant/test/airflow/kitchen.yml", "w") as file:
      file.write("cinc: 11.0.0")
      
  repo.git.add("/home/vagrant/test/airflow/kitchen.yml")
  repo.git.commit("-m","modified code")
  repo.git.push("--set-upstream", o, repo.head.ref)
